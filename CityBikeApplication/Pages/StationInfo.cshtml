@page
@model CityBikeApplication.Pages.StationInfoModel
@{
    ViewData["Title"] = "Station Info";
}

<h1>@ViewData["Title"]</h1>
<p></p>

<form method="POST">

    @{
        Model.GetStation();
        Model.GetAdditionalInfo();
    }

    <div class="row mb-3">
        <label class="col-sm-2 col-form-label">Id</label>
        <div class="col-sm-4">@Model.Station.Id</div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-2 col-form-label">Name</label>
        <div class="col-sm-4">@Model.Station.Name</div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-2 col-form-label">Address</label>
        <div class="col-sm-4">@Model.Station.Osoite</div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-2 col-form-label">Total number of journeys starting from this station</label>
        <div class="col-sm-4">@Model.TotalNumberOfJourneysFrom</div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-2 col-form-label">Total number of journeys ending to this station</label>
        <div class="col-sm-4">@Model.TotalNumberOfJourneysTo</div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-2 col-form-label">Average journey distance from this station</label>
        <div class="col-sm-4">@Math.Round(Model.AverageJourneyDistaceFrom, 2) km</div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-2 col-form-label">Average journey distance to this station</label>
        <div class="col-sm-4">@Math.Round(Model.AverageJourneyDistanceTo, 2) km</div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-2 col-form-label">The 5 most popular return stations from this station</label>
        <div class="col-sm-4">
        @{
            foreach(Station station in Model.MostPopularReturnStations.Keys)
            {
                string info = station.Id + ": " + station.Name + " (" + Model.MostPopularReturnStations[station].ToString() + ")";
                <p>@info</p>
            }
        }
        </div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-2 col-form-label">The 5 most popular departure station to this station</label>
        <div class="col-sm-4">
            @{
                foreach (Station station in Model.MostPopularDepartureStations.Keys)
                {
                    string info = station.Id + ": " + station.Name + " (" + Model.MostPopularDepartureStations[station].ToString() + ")";
                    <p>@info</p>
                }
            }
        </div>
    </div>

    <p></p>

    <div class="row mb-3">
        <div class="col-sm-2 d-grid">
            <button type="submit" class="btn btn-primary">Edit Station</button>
        </div>
        <div class="col-sm-2 d-grid">
            <a class="btn btn-outline-primary" href="/JourneyList" role="button">Back</a>
        </div>
    </div>

</form>

